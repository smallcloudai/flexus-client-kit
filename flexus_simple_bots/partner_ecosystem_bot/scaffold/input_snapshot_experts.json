[
    {
        "name": "default",
        "fexp_description": "Default route for partner lifecycle operations",
        "fexp_allow_tools": "flexus_policy_document,print_widget,partner_program_ops_api,partner_account_mapping_api,partner_enablement_execution_api,channel_conflict_governance_api",
        "fexp_block_tools": "",
        "skills": [],
        "body_md": "Run partner lifecycle operations and conflict governance tasks; route to partner_activation_operator or channel_conflict_governor as appropriate."
    },
    {
        "name": "partner_activation_operator",
        "fexp_description": "Operate partner recruit/onboard/enable/activate cycle",
        "fexp_allow_tools": "flexus_policy_document,print_widget,partner_program_ops_api,partner_account_mapping_api,partner_enablement_execution_api",
        "fexp_block_tools": "",
        "skills": [],
        "pdoc_output_schemas": [
            {
                "schema_name": "partner_activation_scorecard_schema",
                "schema": {
                    "type": "object",
                    "required": [
                        "artifact_type",
                        "version",
                        "analysis_window",
                        "partner_batches",
                        "activation_funnel",
                        "enablement_coverage",
                        "pipeline_contribution",
                        "risk_flags",
                        "sources"
                    ],
                    "additionalProperties": false,
                    "properties": {
                        "artifact_type": {
                            "type": "string",
                            "enum": [
                                "partner_activation_scorecard"
                            ]
                        },
                        "version": {
                            "type": "string"
                        },
                        "analysis_window": {
                            "type": "object",
                            "required": [
                                "start_date",
                                "end_date"
                            ],
                            "additionalProperties": false,
                            "properties": {
                                "start_date": {
                                    "type": "string"
                                },
                                "end_date": {
                                    "type": "string"
                                }
                            }
                        },
                        "partner_batches": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "required": [
                                    "batch_id",
                                    "partner_count",
                                    "tier"
                                ],
                                "additionalProperties": false,
                                "properties": {
                                    "batch_id": {
                                        "type": "string"
                                    },
                                    "partner_count": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "tier": {
                                        "type": "string"
                                    }
                                }
                            }
                        },
                        "activation_funnel": {
                            "type": "object",
                            "required": [
                                "recruited",
                                "onboarded",
                                "enabled",
                                "activated"
                            ],
                            "additionalProperties": false,
                            "properties": {
                                "recruited": {
                                    "type": "number",
                                    "minimum": 0
                                },
                                "onboarded": {
                                    "type": "number",
                                    "minimum": 0
                                },
                                "enabled": {
                                    "type": "number",
                                    "minimum": 0
                                },
                                "activated": {
                                    "type": "number",
                                    "minimum": 0
                                }
                            }
                        },
                        "enablement_coverage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                        },
                        "pipeline_contribution": {
                            "type": "object",
                            "required": [
                                "sourced_pipeline",
                                "influenced_pipeline"
                            ],
                            "additionalProperties": false,
                            "properties": {
                                "sourced_pipeline": {
                                    "type": "number",
                                    "minimum": 0
                                },
                                "influenced_pipeline": {
                                    "type": "number",
                                    "minimum": 0
                                }
                            }
                        },
                        "risk_flags": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "sources": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "required": [
                                    "source_type",
                                    "source_ref"
                                ],
                                "additionalProperties": false,
                                "properties": {
                                    "source_type": {
                                        "type": "string",
                                        "enum": [
                                            "api",
                                            "artifact",
                                            "tool_output",
                                            "event_stream",
                                            "expert_handoff",
                                            "user_directive"
                                        ]
                                    },
                                    "source_ref": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            {
                "schema_name": "partner_enablement_plan_schema",
                "schema": {
                    "type": "object",
                    "required": [
                        "artifact_type",
                        "version",
                        "program_id",
                        "enablement_tracks",
                        "owners",
                        "timeline",
                        "completion_criteria",
                        "dependencies"
                    ],
                    "additionalProperties": false,
                    "properties": {
                        "artifact_type": {
                            "type": "string",
                            "enum": [
                                "partner_enablement_plan"
                            ]
                        },
                        "version": {
                            "type": "string"
                        },
                        "program_id": {
                            "type": "string"
                        },
                        "enablement_tracks": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "required": [
                                    "track_id",
                                    "track_name",
                                    "target_tier"
                                ],
                                "additionalProperties": false,
                                "properties": {
                                    "track_id": {
                                        "type": "string"
                                    },
                                    "track_name": {
                                        "type": "string"
                                    },
                                    "target_tier": {
                                        "type": "string"
                                    }
                                }
                            }
                        },
                        "owners": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "timeline": {
                            "type": "object",
                            "required": [
                                "start_date",
                                "target_activation_date"
                            ],
                            "additionalProperties": false,
                            "properties": {
                                "start_date": {
                                    "type": "string"
                                },
                                "target_activation_date": {
                                    "type": "string"
                                }
                            }
                        },
                        "completion_criteria": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "dependencies": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            {
                "schema_name": "partner_pipeline_quality_schema",
                "schema": {
                    "type": "object",
                    "required": [
                        "artifact_type",
                        "version",
                        "pipeline_snapshot",
                        "stage_conversion",
                        "sla_breaches",
                        "recommended_actions"
                    ],
                    "additionalProperties": false,
                    "properties": {
                        "artifact_type": {
                            "type": "string",
                            "enum": [
                                "partner_pipeline_quality"
                            ]
                        },
                        "version": {
                            "type": "string"
                        },
                        "pipeline_snapshot": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "required": [
                                    "partner_ref",
                                    "open_deals",
                                    "pipeline_value"
                                ],
                                "additionalProperties": false,
                                "properties": {
                                    "partner_ref": {
                                        "type": "string"
                                    },
                                    "open_deals": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "pipeline_value": {
                                        "type": "number",
                                        "minimum": 0
                                    }
                                }
                            }
                        },
                        "stage_conversion": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "required": [
                                    "stage",
                                    "conversion_rate"
                                ],
                                "additionalProperties": false,
                                "properties": {
                                    "stage": {
                                        "type": "string"
                                    },
                                    "conversion_rate": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 1
                                    }
                                }
                            }
                        },
                        "sla_breaches": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "recommended_actions": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        ],
        "body_md": "Produce partner activation artifacts tied to measurable funnel progression; fail fast when partner ownership, enablement completion evidence, or pipeline attribution is missing."
    },
    {
        "name": "channel_conflict_governor",
        "fexp_description": "Enforce deal registration and channel conflict handling",
        "fexp_allow_tools": "flexus_policy_document,print_widget,channel_conflict_governance_api,partner_account_mapping_api,partner_program_ops_api",
        "fexp_block_tools": "",
        "skills": [],
        "pdoc_output_schemas": [
            {
                "schema_name": "channel_conflict_incident_schema",
                "schema": {
                    "type": "object",
                    "required": [
                        "artifact_type",
                        "version",
                        "analysis_window",
                        "incidents",
                        "resolution_log",
                        "policy_updates",
                        "sources"
                    ],
                    "additionalProperties": false,
                    "properties": {
                        "artifact_type": {
                            "type": "string",
                            "enum": [
                                "channel_conflict_incident"
                            ]
                        },
                        "version": {
                            "type": "string"
                        },
                        "analysis_window": {
                            "type": "object",
                            "required": [
                                "start_date",
                                "end_date"
                            ],
                            "additionalProperties": false,
                            "properties": {
                                "start_date": {
                                    "type": "string"
                                },
                                "end_date": {
                                    "type": "string"
                                }
                            }
                        },
                        "incidents": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "required": [
                                    "incident_id",
                                    "deal_ref",
                                    "accounts_involved",
                                    "conflict_type",
                                    "opened_at",
                                    "resolution_state",
                                    "owner"
                                ],
                                "additionalProperties": false,
                                "properties": {
                                    "incident_id": {
                                        "type": "string"
                                    },
                                    "deal_ref": {
                                        "type": "string"
                                    },
                                    "accounts_involved": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "conflict_type": {
                                        "type": "string",
                                        "enum": [
                                            "ownership_overlap",
                                            "registration_collision",
                                            "pricing_conflict",
                                            "territory_conflict"
                                        ]
                                    },
                                    "opened_at": {
                                        "type": "string"
                                    },
                                    "resolution_state": {
                                        "type": "string",
                                        "enum": [
                                            "open",
                                            "in_review",
                                            "resolved",
                                            "escalated"
                                        ]
                                    },
                                    "owner": {
                                        "type": "string"
                                    }
                                }
                            }
                        },
                        "resolution_log": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "policy_updates": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "sources": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "required": [
                                    "source_type",
                                    "source_ref"
                                ],
                                "additionalProperties": false,
                                "properties": {
                                    "source_type": {
                                        "type": "string",
                                        "enum": [
                                            "api",
                                            "artifact",
                                            "tool_output",
                                            "event_stream",
                                            "expert_handoff",
                                            "user_directive"
                                        ]
                                    },
                                    "source_ref": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            {
                "schema_name": "deal_registration_policy_schema",
                "schema": {
                    "type": "object",
                    "required": [
                        "artifact_type",
                        "version",
                        "registration_rules",
                        "approval_flow",
                        "exception_policy",
                        "sla_targets"
                    ],
                    "additionalProperties": false,
                    "properties": {
                        "artifact_type": {
                            "type": "string",
                            "enum": [
                                "deal_registration_policy"
                            ]
                        },
                        "version": {
                            "type": "string"
                        },
                        "registration_rules": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "approval_flow": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "exception_policy": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "sla_targets": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "required": [
                                    "stage",
                                    "target_hours"
                                ],
                                "additionalProperties": false,
                                "properties": {
                                    "stage": {
                                        "type": "string"
                                    },
                                    "target_hours": {
                                        "type": "number",
                                        "minimum": 0
                                    }
                                }
                            }
                        }
                    }
                }
            },
            {
                "schema_name": "conflict_resolution_audit_schema",
                "schema": {
                    "type": "object",
                    "required": [
                        "artifact_type",
                        "version",
                        "audit_window",
                        "resolved_cases",
                        "sla_compliance",
                        "repeat_conflict_patterns",
                        "required_remediations"
                    ],
                    "additionalProperties": false,
                    "properties": {
                        "artifact_type": {
                            "type": "string",
                            "enum": [
                                "conflict_resolution_audit"
                            ]
                        },
                        "version": {
                            "type": "string"
                        },
                        "audit_window": {
                            "type": "object",
                            "required": [
                                "start_date",
                                "end_date"
                            ],
                            "additionalProperties": false,
                            "properties": {
                                "start_date": {
                                    "type": "string"
                                },
                                "end_date": {
                                    "type": "string"
                                }
                            }
                        },
                        "resolved_cases": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "sla_compliance": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                        },
                        "repeat_conflict_patterns": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "required_remediations": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        ],
        "body_md": "Produce enforceable conflict governance artifacts with accountable owners and SLA traceability; fail fast when incident evidence or policy linkage is incomplete."
    }
]
