import json

BOT_PERSONALITY_MD = "You are an MVP validation operations bot. You run MVP tests and produce auditable decision artifacts. One run equals one bounded MVP operation. Never invent evidence, never hide uncertainty, and always emit structured artifacts for downstream audit."
BOT_EXPERTS = json.loads("[{\"name\": \"default\", \"fexp_description\": \"Default route for MVP validation operations\", \"fexp_allow_tools\": \"flexus_policy_document,print_widget,mvp_experiment_orchestration_api,mvp_telemetry_api,mvp_feedback_capture_api,mvp_instrumentation_health_api\", \"fexp_block_tools\": \"\", \"skills\": [], \"body_md\": \"Run MVP operations and produce auditable decision artifacts.\"}, {\"name\": \"mvp_flow_operator\", \"fexp_description\": \"Execute approved MVP rollout on bounded cohorts with strict guardrails and rollback controls\", \"fexp_allow_tools\": \"flexus_policy_document,print_widget,mvp_experiment_orchestration_api,mvp_telemetry_api,mvp_feedback_capture_api\", \"fexp_block_tools\": \"\", \"skills\": [], \"pdoc_output_schemas\": [{\"schema_name\": \"mvp_run_log_schema\", \"schema\": {\"type\": \"object\", \"required\": [\"artifact_type\", \"version\", \"run_id\", \"hypothesis_ref\", \"cohort_definition\", \"rollout_plan\", \"activation_path\", \"delivery_log\", \"guardrail_events\", \"status\"], \"additionalProperties\": false, \"properties\": {\"artifact_type\": {\"type\": \"string\", \"enum\": [\"mvp_run_log\"]}, \"version\": {\"type\": \"string\"}, \"run_id\": {\"type\": \"string\"}, \"hypothesis_ref\": {\"type\": \"string\"}, \"cohort_definition\": {\"type\": \"object\", \"required\": [\"segment_id\", \"target_n\", \"allocation\"], \"additionalProperties\": false, \"properties\": {\"segment_id\": {\"type\": \"string\"}, \"target_n\": {\"type\": \"integer\", \"minimum\": 1}, \"allocation\": {\"type\": \"string\"}}}, \"rollout_plan\": {\"type\": \"array\", \"items\": {\"type\": \"string\"}}, \"activation_path\": {\"type\": \"array\", \"items\": {\"type\": \"string\"}}, \"delivery_log\": {\"type\": \"array\", \"items\": {\"type\": \"object\", \"required\": [\"ts\", \"event\", \"status\"], \"additionalProperties\": false, \"properties\": {\"ts\": {\"type\": \"string\"}, \"event\": {\"type\": \"string\"}, \"status\": {\"type\": \"string\", \"enum\": [\"ok\", \"warn\", \"fail\"]}, \"notes\": {\"type\": \"string\"}}}}, \"guardrail_events\": {\"type\": \"array\", \"items\": {\"type\": \"string\"}}, \"status\": {\"type\": \"string\", \"enum\": [\"planned\", \"running\", \"paused\", \"rolled_back\", \"completed\"]}}}}, {\"schema_name\": \"mvp_rollout_incident_schema\", \"schema\": {\"type\": \"object\", \"required\": [\"artifact_type\", \"version\", \"run_id\", \"incidents\", \"impact_summary\", \"resolved\"], \"additionalProperties\": false, \"properties\": {\"artifact_type\": {\"type\": \"string\", \"enum\": [\"mvp_rollout_incident\"]}, \"version\": {\"type\": \"string\"}, \"run_id\": {\"type\": \"string\"}, \"incidents\": {\"type\": \"array\", \"items\": {\"type\": \"object\", \"required\": [\"incident_id\", \"severity\", \"description\", \"mitigation\"], \"additionalProperties\": false, \"properties\": {\"incident_id\": {\"type\": \"string\"}, \"severity\": {\"type\": \"string\", \"enum\": [\"low\", \"medium\", \"high\", \"critical\"]}, \"description\": {\"type\": \"string\"}, \"mitigation\": {\"type\": \"string\"}}}}, \"impact_summary\": {\"type\": \"array\", \"items\": {\"type\": \"string\"}}, \"resolved\": {\"type\": \"boolean\"}}}}, {\"schema_name\": \"mvp_feedback_digest_schema\", \"schema\": {\"type\": \"object\", \"required\": [\"artifact_type\", \"version\", \"run_id\", \"feedback_window\", \"themes\", \"critical_quotes\", \"sentiment_distribution\", \"next_checks\"], \"additionalProperties\": false, \"properties\": {\"artifact_type\": {\"type\": \"string\", \"enum\": [\"mvp_feedback_digest\"]}, \"version\": {\"type\": \"string\"}, \"run_id\": {\"type\": \"string\"}, \"feedback_window\": {\"type\": \"object\", \"required\": [\"start_date\", \"end_date\"], \"additionalProperties\": false, \"properties\": {\"start_date\": {\"type\": \"string\"}, \"end_date\": {\"type\": \"string\"}}}, \"themes\": {\"type\": \"array\", \"items\": {\"type\": \"object\", \"required\": [\"theme_id\", \"theme_summary\", \"evidence_count\", \"supporting_refs\"], \"additionalProperties\": false, \"properties\": {\"theme_id\": {\"type\": \"string\"}, \"theme_summary\": {\"type\": \"string\"}, \"evidence_count\": {\"type\": \"integer\", \"minimum\": 0}, \"supporting_refs\": {\"type\": \"array\", \"items\": {\"type\": \"string\"}}}}}, \"critical_quotes\": {\"type\": \"array\", \"items\": {\"type\": \"string\"}}, \"sentiment_distribution\": {\"type\": \"object\", \"additionalProperties\": {\"type\": \"number\", \"minimum\": 0, \"maximum\": 1}}, \"next_checks\": {\"type\": \"array\", \"items\": {\"type\": \"string\"}}}}}], \"body_md\": \"Operate MVP rollout with strict lifecycle controls and emit auditable run artifacts; fail fast on guardrail breaches, incident escalation, or missing execution traceability.\"}, {\"name\": \"telemetry_integrity_analyst\", \"fexp_description\": \"Validate telemetry quality and produce threshold-based decision\", \"fexp_allow_tools\": \"flexus_policy_document,print_widget,mvp_telemetry_api,mvp_instrumentation_health_api,mvp_feedback_capture_api\", \"fexp_block_tools\": \"\", \"skills\": [], \"pdoc_output_schemas\": [{\"schema_name\": \"telemetry_quality_report_schema\", \"schema\": {\"type\": \"object\", \"required\": [\"artifact_type\", \"version\", \"run_id\", \"quality_checks\", \"coverage_status\", \"lineage_status\", \"blocking_issues\", \"confidence\"], \"additionalProperties\": false, \"properties\": {\"artifact_type\": {\"type\": \"string\", \"enum\": [\"telemetry_quality_report\"]}, \"version\": {\"type\": \"string\"}, \"run_id\": {\"type\": \"string\"}, \"quality_checks\": {\"type\": \"array\", \"items\": {\"type\": \"object\", \"required\": [\"check_id\", \"result\", \"notes\"], \"additionalProperties\": false, \"properties\": {\"check_id\": {\"type\": \"string\"}, \"result\": {\"type\": \"string\", \"enum\": [\"pass\", \"warn\", \"fail\"]}, \"notes\": {\"type\": \"string\"}}}}, \"coverage_status\": {\"type\": \"string\", \"enum\": [\"full\", \"partial\", \"none\"]}, \"lineage_status\": {\"type\": \"string\", \"enum\": [\"verified\", \"partial\", \"unknown\"]}, \"blocking_issues\": {\"type\": \"array\", \"items\": {\"type\": \"string\"}}, \"confidence\": {\"type\": \"number\", \"minimum\": 0, \"maximum\": 1}}}}, {\"schema_name\": \"telemetry_decision_memo_schema\", \"schema\": {\"type\": \"object\", \"required\": [\"artifact_type\", \"version\", \"run_id\", \"metric_summary\", \"decision\", \"decision_reason\", \"next_step\", \"sources\"], \"additionalProperties\": false, \"properties\": {\"artifact_type\": {\"type\": \"string\", \"enum\": [\"telemetry_decision_memo\"]}, \"version\": {\"type\": \"string\"}, \"run_id\": {\"type\": \"string\"}, \"metric_summary\": {\"type\": \"object\", \"required\": [\"primary_metric\", \"guardrails\", \"window\"], \"additionalProperties\": false, \"properties\": {\"primary_metric\": {\"type\": \"object\"}, \"guardrails\": {\"type\": \"array\", \"items\": {\"type\": \"object\"}}, \"window\": {\"type\": \"string\"}}}, \"decision\": {\"type\": \"string\", \"enum\": [\"scale\", \"iterate\", \"stop\"]}, \"decision_reason\": {\"type\": \"string\"}, \"next_step\": {\"type\": \"string\"}, \"sources\": {\"type\": \"array\", \"items\": {\"type\": \"object\", \"required\": [\"source_type\", \"source_ref\"], \"additionalProperties\": false, \"properties\": {\"source_type\": {\"type\": \"string\", \"enum\": [\"api\", \"artifact\", \"tool_output\", \"event_stream\", \"expert_handoff\", \"user_directive\"]}, \"source_ref\": {\"type\": \"string\"}}}}}}}, {\"schema_name\": \"mvp_scale_readiness_gate_schema\", \"schema\": {\"type\": \"object\", \"required\": [\"artifact_type\", \"version\", \"run_id\", \"gate_status\", \"blocking_issues\", \"override_required\", \"recommended_action\"], \"additionalProperties\": false, \"properties\": {\"artifact_type\": {\"type\": \"string\", \"enum\": [\"mvp_scale_readiness_gate\"]}, \"version\": {\"type\": \"string\"}, \"run_id\": {\"type\": \"string\"}, \"gate_status\": {\"type\": \"string\", \"enum\": [\"go\", \"no_go\"]}, \"blocking_issues\": {\"type\": \"array\", \"items\": {\"type\": \"string\"}}, \"override_required\": {\"type\": \"boolean\"}, \"recommended_action\": {\"type\": \"string\", \"enum\": [\"scale\", \"iterate\", \"stop\"]}}}}], \"body_md\": \"Audit telemetry integrity and issue final decision memos; fail fast when event coverage, metric lineage, or instrumentation health does not meet reliability thresholds.\"}]")
BOT_SKILLS = json.loads("[]")
